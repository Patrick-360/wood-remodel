const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NavMenuSearchbar.D3YR_N5G.css","./StoreNavCartElement.Br1dtVUV.css"])))=>i.map(i=>d[i]);
import{d as q,f as G,E as Y,c as d,a as o,b as l,u as n,k as p,n as v,i as c,e as h,F as b,j as M,h as U,p as D,q as R}from"./BeDKUvii.js";import{u as X,aC as E,n as J,d as K}from"./DtJjbnup.js";import{E as g,a as Q,b as W,c as $,S as Z}from"./BYsG3ZvL.js";import{g as ee}from"./oulmZQOr.js";import{u as te}from"./Bf3gjqhz.js";import"./B4NmBDdK.js";import"./CWuXOXUb.js";import"./MyppZ_YO.js";import"./CowYKqCg.js";import"./CjKwACeX.js";import"./BrepIRt0.js";import"./NRyYgpkZ.js";import"./BxfwRLH5.js";import"./B9-UTvb5.js";import"./D7D7yKyX.js";import"./BMZJM4Sd.js";import"./CfdV2JMf.js";import"./NMc_Kt1o.js";import"./Br3Fhm6g.js";import"./CmoQeOmA.js";import"./C3e4t58V.js";import"./CemwczxG.js";const ne=D(()=>R(()=>import("./CyEYEu5F.js"),__vite__mapDeps([0]),import.meta.url).then(t=>t.default||t)),oe=D(()=>R(()=>import("./DjDl1_No.js"),__vite__mapDeps([1]),import.meta.url).then(t=>t.default||t)),se={key:0,class:"branding"},le={key:0,class:"logo"},ae={key:1,class:"title"},re={class:"cart-nav-wrapper"},ie={class:"nav-menu-mobile"},ce={class:"nav-menu"},ue={key:0,class:"dropdown-menu"},be=q({__name:"NavMenu",props:{element:{type:Object,required:!0}},async setup(t){var N,I,x;let _,f;const s=t,u=X(),{$bus:V}=G(),z=`${s.element.id}-logo`,B=`${s.element.id}-heading`,y=e=>e==null?void 0:e.reduce((m,r)=>(r.childs.length&&m.push(...y(r.childs)),r.goTo===Z.GO_TO_PRODUCT_COLLECTION&&r.goToCollection&&m.push(r.goToCollection),m),[]),C=y((x=(I=(N=s.element)==null?void 0:N.extra)==null?void 0:I.menuItems)==null?void 0:x.value);if(E(u.value.funnelSteps)&&C.length>0){const{data:e}=([_,f]=Y(async()=>J(`product-collection-${s.element.id}`,async()=>await ee(C))),_=await _,f(),_);e.value&&(u.value.productCollections=te(e.value??[],u.value.productCollections,"_id"))}const w=d(()=>K(s.element)),S=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_LOGO_IN_MENU].value}),L=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_HEADLINE_IN_MENU].value}),H=d(()=>{const{extra:e}=s.element;return e[g.MENU_LAYOUT].value}),F=d(()=>{const{extra:e}=s.element;return e[g.MENU_ITEMS].value});function j(){V.$emit("show-nav-menu-popup",s.element.id)}return(e,a)=>{var O,T,k,P;const m=ne,r=oe;return o(),l("div",{class:v([[n(H)],"nav-menu-wrapper"])},[n(S)||n(L)?(o(),l("div",se,[n(S)?(o(),l("div",le,[p(Q,{id:z,class:v([n(w)]),element:t.element},null,8,["class","element"])])):c("",!0),n(L)?(o(),l("div",ae,[p(W,{class:v([n(w)]),id:B,content:t.element.extra.text},null,8,["class","content"])])):c("",!0)])):c("",!0),h("div",re,[h("div",ie,[h("span",{onClick:a[0]||(a[0]=i=>j()),class:"menu-icon"})]),h("ul",ce,[(o(!0),l(b,null,M(n(F),i=>(o(),l("li",{key:i.id,class:v(["nav-menu-item",i.childs.length?"dropdown":""])},[p($,{item:i},null,8,["item"]),i.childs&&i.childs.length?(o(),l("ul",ue,[(o(!0),l(b,null,M(i.childs,A=>(o(),l("li",{key:A.id,class:"dropdown-item"},[p($,{item:A},null,8,["item"])]))),128))])):c("",!0)],2))),128))]),(T=(O=t.element.extra)==null?void 0:O.showSearchbar)!=null&&T.value&&n(E)(n(u).funnelSteps)?(o(),U(m,{key:0,element:t.element},null,8,["element"])):c("",!0),n(E)(n(u).funnelSteps)&&(((P=(k=t.element.extra)==null?void 0:k.showCartIcon)==null?void 0:P.value)??!0)?(o(),U(r,{key:1,element:t.element},null,8,["element"])):c("",!0)])],2)}}});export{be as default};
